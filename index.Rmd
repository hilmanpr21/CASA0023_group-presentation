---
title: "Semarang Flood Resilience"
subtitle: "CASA0023<br/>Group Project"
author: "Hilman, Yuyang, Mindy, Guk, Joe"
institute: "UCL CASA"
date: "T2 2023"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false

---
class: inverse, center, middle


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(dplyr)
library(readr)
library(readxl)
library(knitr)
```

```{r setupbibliography, include=FALSE}
# Code supplied by Andy (see wk2 slides 25-28)
library(RefManageR)
library(knitcitations)
BibOptions(check.entries = FALSE,
           bib.style = "authoryear",
           cite.style = "authoryear",
           style = "markdown",
           hyperlink = TRUE,
           dashed = FALSE,
           no.print.fields=c("doi", "url", "urldate", "issn"))
myBib <- ReadBib("references.bib",
                 # "./Bib.bib", 
                 check = FALSE)
```


# Methodology

???

All text under the three question marks are presentation notes; it is hidden from the presentation slides and only available in presenter mode.

---

# Methodology

```{r method_img, echo=FALSE, out.width='130%', fig.align='center'}
knitr::include_graphics('img/methodology-flowchart.png')
```

---

class: inverse, center, middle

```{r riskmap_img, echo=FALSE, out.width='70%', fig.align='center'}
knitr::include_graphics('img/risk-map-example.png')
```



---

# Methodology

'Ensemble-based' Machine Learning approach

--

1. Using database of historic flood data, split into training (70%) and testing (30%) set  

--

1. Build a map (raster) of each hazard input parameter  

--

1. Estimate flood probability indices (Frequency Ratio Approach)  

--

1. Apply a Support Vector Machine (SVM) model, which will classify the input pixels   

--

1. Build a map (raster) of each vulnerability input parameter, classified on a quantile scale

--

1. Combine the hazard and vulnerability maps together to produce single risk index

--

1. Validate the model using testing set of data

???
Presenter Notes

Refs for this section: Taubenböck et al 2011; Mojadaddi et al. 2017; Tehrany et al. 2014; Flood database: Tellman et al. 2021

Methodology: ‘Ensemble-based’ machine learning using SVM (Support Vector Machine)
Each parameter rendered/built as a raster layer
Frequency Ratio (FR) approach can be used to estimate flood probability indices, using the hazard parameters (the inputs are each classified using quantile breaks and an FR value assigned to each class). This will output which classes of which parameters (e.g. which values of elevation) are at the highest probability of flood. 
Apply an SVM model; essentially a statistical theory to minimise operational risk standard, and performs a binary classification on the input pixels. 
Repeat the process for vulnerability parameters, by classifying the raster cells on a scale (e.g. 0 to 5) of vulnerability depending on the parameter value. 
The Hazard and Vulnerability models can then be multiplied together, and a weighted overlay applied.
A training set taken from historic flood events can be used to validate the built model. 


---

class: middle, center

# EO Data: Hazard

```{r hazardtbl, echo=FALSE, message=FALSE}
hazardtbl <- readxl::read_excel("img/eo-source-tables.xlsx", sheet = 1)
knitr::kable(hazardtbl, format = 'html', col.names = c("Purpose", "EO data", "Spatial resolution", "Temporal resolution", "Cost", "Processing"))
```

???

Data pre-processing except Correction and resampling ?  What is our smallest research scale?

Tidal range is the term describing the vertical change between the maximum high tide and the minimum low tide and is related to tidal flooding.(Tidal range is the difference in height between high tide and low tide.)
Indonesia Agency for Meteorology, Climatology, and Geophysics (BMKG)
NOAA Jason-3  is capable of measuring significant wave height (radar altimeter), sigma naught (sigma0), dry and wet troposphere and ionosphere, which can be used to calculate sea surface height, sea surface height anomalies, and total electron content.
A high rate of Sea Level Rise was designated to correspond to high coastal vulnerability and vice versa. 
Significant Wave Height is a replacement of wave energy, it is the average of the highest one-third (33%) of waves (measured from trough to crest) that occur in a given period. Satellite altimetry was the primary data for extracting the significant wave high.

---

class: middle, center

# EO Data: Hazard (cont.)

```{r hazardtbl2, echo=FALSE, message=FALSE}
hazardtbl2 <- readxl::read_excel("img/eo-source-tables.xlsx", sheet = 2)
knitr::kable(hazardtbl2, format = 'html', col.names = c("Purpose", "EO data", "Spatial resolution", "Temporal resolution", "Cost", "Processing"))
```

???

Reference Luca Brocca et al 2019
The SM2RAIN–ASCAT data record is obtained from the application of the SM2RAIN algorithm to the ASCAT soil moisture data records H113 and H114 provided by the European Organisation for the Exploitation of Meteorological Satellites (EUMETSAT) https://essd.copernicus.org/articles/11/1583/2019/essd-11-1583-2019.html
The Soil Moisture (SM) product provides an estimate of the water content of the 0-5 cm topsoil layer, expressed in degree of saturation between 0 and 100 [%]. SM processor.
Land Subsidence and InSAR reference https://www.sciencedirect.com/science/article/pii/S0273117718300711


---

# EO Data: Vulnerability

```{r vulntbl, echo=FALSE, message=FALSE}
vulntbl <- readxl::read_excel("img/eo-source-tables.xlsx", sheet = 3)
knitr::kable(vulntbl, format = 'html', col.names = c("Purpose", "EO data", "Spatial resolution", "Temporal resolution", "Cost", "Processing"))
```

???

Reference V. H. R. Prudente et al 2020
Normalized Difference Built-up Index, NDBI = (SWIR - NIR) / (SWIR + NIR), NDBI = (Band 6 - Band 5) / (Band 6 + Band 5)  in Landsat 8
Normalized Difference Water Index, NDWI = (Green - NIR) / (Green + NIR), NDWI = (Band 3 – Band 5)/(Band 3 + Band 5)
SAR satellite data can be helpful in LULC mapping in a tropical region with high cloud cover. https://ieeexplore.ieee.org/document/9323404
Unmanned Aerial Vehicle Remote Sensing

---

## Additional data

```{r othertbl, echo=FALSE, message=FALSE}
othertbl <- readxl::read_excel("img/eo-source-tables.xlsx", sheet = 4)
knitr::kable(othertbl, format = 'html', col.names = c("Purpose", "Data", "Scale", "Cost"))
```

---

# Recommended Action Plan

```{r output_img, echo=FALSE, out.width='130%', fig.align='center'}
knitr::include_graphics('img/output-flowchart.png')
```

???

Climate is changing + informal settlement locations and densities may change rapidly. Maps and plan should be updated annually or every few years 
Data should be available to all relevant stakeholders, so diff departments
aren’t separately collecting data and planning with diff information

Semarang resilience strategy has all these actions that they want to implement in locations that are prone to tidal floods, so with this map they can have a more updated idea of these target areas. One of their key goals is to increase coordination between stakeholders during disasters.

Be specific link it without risk map.

Use this data to make updates to Semarang’s disaster plan:
Develop flood resistant infrastructure, such as roads, in high risk areas.
Update evacuation plan.
Improve drainage systems in high risk areas.
If implementing an early detection warning system, prioritise placement of sensors in high risk areas.
Create a task force to update risk assessment maps annually based on up-to-date data. Update disaster plan accordingly.
Dashboard with risk and vulnerability map with population data; make this available across all relevant sectors - emergency response, health care, city operations.

---

# Resource Allocation

```{r actiontbl_img, echo=FALSE, out.width='130%', fig.align='center'}
knitr::include_graphics('img/action-table.png')
```

---

class: inverse, center, middle

# Plan

---

# Project Timeline

```{r gantt_img, echo=FALSE, out.width='130%', fig.align='center'}
knitr::include_graphics('img/gantt-chart.png')
```

---

# Budget Breakdown

**Need to insert table or screenshot**

---

# Risks and Limitations

.pull-left[
**Risk**

- Unexpected employee turnover

- Unexpectedly high costs

- Political disruption

- Disaster during assessment
]

.pull-right[
**Mitigation**

- Consistent data management for smooth transition

- Allow for budget headroom

- Active political monitoring and civil society engagement
]

---

# Summary
## Benefits to the City

How much will Semarang save?


